%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% LaTeX Style File: beamerthemeCS.sty
% Created on: 2024/04/01
% Author: Agni Datta
% Description: CS beamer theme package
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{beamerthemeCS}[2024/04/01 CS beamer theme package]

% Font and Encoding
\RequirePackage{lmodern} % Latin modern font
\RequirePackage[otf, lining]{sourcesanspro} % Source Sans Pro font
\RequirePackage[otf, lining]{sourcecodepro} % Source Code Pro font
\RequirePackage[mathrm=sym]{unicode-math} % New TX Sans font
\setmathfont{Fira Math}
\RequirePackage[english]{babel} % Language package
\RequirePackage[autostyle=true, csdisplay=true]{csquotes} % Quotes
\RequirePackage[babel=true]{microtype} % Microtypography

% Colors and Graphics
\RequirePackage{xcolor} % Color package
\RequirePackage{tikz} % Drawing package
\usetikzlibrary{shapes,arrows} % TikZ libraries
\RequirePackage{multicol} % Multiple columns
\RequirePackage{multirow} % Multirow cells

% Beamer Themes and Colors
\RequirePackage{beamerthemeMadrid} % Beamer theme
\RequirePackage{beamerinnerthemecircles} % Inner theme
\RequirePackage{beamercolorthemeRoyalBlue} % Color theme

% Other Packages
\RequirePackage{fontawesome} % For icons
\RequirePackage{academicons} % Academic icons
\RequirePackage{ragged2e} % Justify text

% Packages used in the document
\RequirePackage[2.0, compress, objcompress]{bxpdfver} % PDF version
\RequirePackage{booktabs} % Improved tables
\RequirePackage{etoolbox} % Toolbox for LaTeX programming
\RequirePackage{algorithm2e} % Algorithms
\RequirePackage{graphicx} % Enhanced support for graphics
\RequirePackage{parskip} % Space between paragraphs

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Additional settings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Hyperref setup for document links
\hypersetup{%
    colorlinks=true,             % Colored links
    linkcolor=RoyalBlue4,        % Color for internal links
    citecolor=RoyalBlue4,        % Color for citations
    urlcolor=RoyalBlue4,         % Color for URLs
    frenchlinks=true,            % French style links
    linktocpage=true,            % Link to page numbers
    pdfpagemode=FullScreen,      % Full-screen mode when opening
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Custom Theme and Layout
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\setbeamertemplate{navigation symbols}{} % Remove navigation symbols
\setbeamertemplate{caption}[numbered] % Numbered captions
\setbeamertemplate{frametitle}[default][center] % Centered frame titles
\setbeamertemplate{blocks}[default] % Default block style
\setbeamertemplate{blocks}[rounded][shadow=true] % Rounded block style without shadow

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Customization
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Block style
\setbeamertemplate{blocks}[rounded][shadow=true]

% Itemize and Enumerate settings
\setbeamertemplate{enumerate items}[default]
\setbeamertemplate{itemize items}[circle]
\setbeamertemplate{itemize/enumerate body begin}{\itemsep0pt\parskip0pt}

% Font settings
\setbeamerfont{frametitle}{size=\large}
\setbeamerfont{normal text}{size=\normalsize}
\addtobeamertemplate{frametitle}{\justifying}{}

% Structure font
\setbeamerfont{structure}{family=\sffamily, series=\mdseries}

% Title fonts
\setbeamerfont{title}{size=\Large, series=\scshape\bfseries, parent=structure}
\setbeamerfont{subtitle}{size=\large\bfseries, parent=title}
\setbeamerfont{date}{size=\scriptsize, series=\mdseries, parent=structure}
\setbeamerfont{author}{size=\Large, series=\mdseries, parent=structure}
\setbeamerfont{institute}{size=\large, series=\mdseries, parent=structure}

% Table of Contents fonts
\setbeamerfont{section in toc}{size=\Large, parent=structure}
\setbeamerfont{subsection in toc}{size=\large, parent={section in toc}}

% Header/Footer fonts
\setbeamerfont{section in head/foot}{size=\tiny, parent=structure}

% Frame Title fonts
\setbeamerfont{frametitle}{parent=structure, size=\Large, series=\scshape\bfseries}
\setbeamerfont{framesubtitle}{parent=frametitle, size=\Large}

% Caption font
\setbeamerfont{caption}{size=\footnotesize}

% Item font
\setbeamerfont{item}{parent=structure, series=\mdseries}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Diagram Styles
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tikzstyle{block} = [rectangle, draw, fill=maincolor!20!white, text centered, rounded corners, minimum height=1.5em] % Block style
\tikzstyle{line} = [draw, -latex'] % Arrow style

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Redefinitions and Commands
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Redefine footnote symbol
\renewcommand*{\thefootnote}{\fnsymbol{footnote}}

% Command to add LinkedIn icon with link
\newcommand*{\linkedin}[1]{\href{#1}{\faLinkedin}}

% Command to add circular image
\newcommand*{\circimage}[2][2cm]{%
  \begin{tikzpicture}[baseline=(char.base)]
    \clip (0,0) circle (#1/2);
    \node (char) at (0,0) {\includegraphics[width=#1,height=#1,keepaspectratio]{#2}};
  \end{tikzpicture}
}

\endinput % End of package
