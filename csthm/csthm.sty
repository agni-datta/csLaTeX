%%
%% This is file csthm.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% csthm.dtx  (with options: package')
%% 
%% This is a generated file.
%% 
%% Copyright (C) 2024 by Agni Datta <agnidatta.org@gmail.com>
%% 
%% This file may be distributed and/or modified under the conditions of
%% the LaTeX Project Public License, either version 1.3c of this license
%% or (at your option) any later version. The latest version of this
%% license is in:
%% 
%%    http://www.latex-project.org/lppl.txt
%% 
%% and version 1.3c or later is part of all distributions of LaTeX
%% version 2008/05/04 or later.
%%

\NeedsTeXFormat{LaTeX2e}[1999/12/01]
\ProvidesPackage{csthm}[2025/02/02 v2.0 Theorem Environments for Computer Science]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Option Definitions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newbool{usefancythm}       % Enable fancy theorem formatting
\newbool{usenormalthm}      % Enable standard theorem formatting

% Default Boolean Initialization
\setbool{usefancythm}{false}
\setbool{usenormalthm}{false}

% Option Definitions
\DeclareOption{usefancythm}{\setbool{usefancythm}{true}}
\DeclareOption{usenormalthm}{\setbool{usenormalthm}{true}}

% Handle Unrecognized Options
\DeclareOption*{\PackageWarning{csbook}{Unrecognized option '\CurrentOption'}}

% Process Options
\ProcessOptions\relax

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Package Definitions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\RequirePackage{amsmath}       % Advanced math typesetting
\RequirePackage{amssymb}       % Additional symbols
\RequirePackage{amsthm}        % Theorem environments
\RequirePackage{sansmath}      % Sans-serif math font
\RequirePackage{enumitem}      % Customizable list formatting
\RequirePackage{thmtools}      % Theorem customization tools
\RequirePackage[%
	skipabove=10pt,            % Space above frames
	skipbelow=10pt,            % Space below frames
	ntheorem,                  % Integration with theorem environments
	framemethod=Tikz           % TikZ frame styling
]{mdframed}                   % Framed environments
\RequirePackage[x11names, dvipsnames, svgnames]{xcolor} % X11, SVG, and named colors

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Color and Font Definitions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\providecommand{\accentcolor}{blue!50!black}  % Default accent color
\providecommand{\setaccentcolor}[1]{\renewcommand{\accentcolor}{#1}}  % Set custom accent color

\providecommand{\commonfont}{\color{\accentcolor}\sffamily}  % Common font with accent color and sans-serif
\providecommand{\commonsymb}{\ensuremath{\color{\accentcolor}\lrcorner}}  % Common symbol with accent color

\renewcommand{\qedsymbol}{$\scriptstyle\color{\accentcolor}\blacksquare$}  % Custom QED symbol in accent color
\providecommand{\csthmpkg}{\textsf{csthm}}  % Reference to the csthm package

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Case List and Environment Definitions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newlist{caseList}{enumerate}{1}  % Define a new list type 'caseList' based on 'enumerate'
\setlist[caseList]{label=\textbf{Case~\arabic*:}, leftmargin=*}  % Customize 'caseList' labels

\NewDocumentEnvironment{case}{O{}}{%
	\begin{caseList}[#1]  % Begin 'caseList' with an optional argument for customization
		}{%
	\end{caseList}  % End 'caseList'
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Definition of New Environments
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\basicenv}{%
	% Theorem-like Environments
	\declaretheorem[style=thmstyle,name=Theorem]{theorem}
	\declaretheorem[style=thmstyle,name=Assertion]{assertion}
	\declaretheorem[style=thmstyle,name=Assumption]{assumption}
	\declaretheorem[style=thmstyle,name=Axiom]{axiom}
	\declaretheorem[style=thmstyle,name=Claim]{claim}
	\declaretheorem[style=thmstyle,name=Conclusion]{conclusion}
	\declaretheorem[style=thmstyle,name=Conjecture]{conjecture}
	\declaretheorem[style=thmstyle,name=Corollary]{corollary}
	\declaretheorem[style=thmstyle,name=Fact]{fact}
	\declaretheorem[style=thmstyle,name=Hypothesis]{hypothesis}
	\declaretheorem[style=thmstyle,name=Lemma]{lemma}
	\declaretheorem[style=thmstyle,name=Postulate]{postulate}
	\declaretheorem[style=thmstyle,name=Property]{property}
	\declaretheorem[style=thmstyle,name=Proposition]{proposition}
			
	% Unnumbered Theorem-like Environments
	\declaretheorem[style=thmstyle,unnumbered,name=Theorem*]{theorem*}
	\declaretheorem[style=thmstyle,unnumbered,name=Assertion*]{assertion*}
	\declaretheorem[style=thmstyle,unnumbered,name=Assumption*]{assumption*}
	\declaretheorem[style=thmstyle,unnumbered,name=Axiom*]{axiom*}
	\declaretheorem[style=thmstyle,unnumbered,name=Claim*]{claim*}
	\declaretheorem[style=thmstyle,unnumbered,name=Conclusion*]{conclusion*}
	\declaretheorem[style=thmstyle,unnumbered,name=Conjecture*]{conjecture*}
	\declaretheorem[style=thmstyle,unnumbered,name=Corollary*]{corollary*}
	\declaretheorem[style=thmstyle,unnumbered,name=Fact*]{fact*}
	\declaretheorem[style=thmstyle,unnumbered,name=Hypothesis*]{hypothesis*}
	\declaretheorem[style=thmstyle,unnumbered,name=Lemma*]{lemma*}
	\declaretheorem[style=thmstyle,unnumbered,name=Postulate*]{postulate*}
	\declaretheorem[style=thmstyle,unnumbered,name=Property*]{property*}
	\declaretheorem[style=thmstyle,unnumbered,name=Proposition*]{proposition*}
			
	% Definition-like Environments
	\declaretheorem[style=defstyle,name=Application]{application}
	\declaretheorem[style=defstyle,name=Construction]{construction}
	\declaretheorem[style=defstyle,name=Convention]{convention}
	\declaretheorem[style=defstyle,name=Definition]{definition}
	\declaretheorem[style=defstyle,name=Experiment]{experiment}
	\declaretheorem[style=defstyle,name=Notation]{notation}
	\declaretheorem[style=defstyle,name=Problem]{problem}
	\declaretheorem[style=defstyle,name=Protocol]{protocol}
			
	% Unnumbered Definition-like Environments
	\declaretheorem[style=defstyle,unnumbered,name=Application*]{application*}
	\declaretheorem[style=defstyle,unnumbered,name=Construction*]{construction*}
	\declaretheorem[style=defstyle,unnumbered,name=Convention*]{convention*}
	\declaretheorem[style=defstyle,unnumbered,name=Definition*]{definition*}
	\declaretheorem[style=defstyle,unnumbered,name=Experiment*]{experiment*}
	\declaretheorem[style=defstyle,unnumbered,name=Notation*]{notation*}
	\declaretheorem[style=defstyle,unnumbered,name=Problem*]{problem*}
	\declaretheorem[style=defstyle,unnumbered,name=Protocol*]{protocol*}
			
	% Remark-like Environments
	\declaretheorem[style=remarkstyle,name=Commentary]{commentary}
	\declaretheorem[style=remarkstyle,name=Example]{example}
	\declaretheorem[style=remarkstyle,name=Exercise]{exercise}
	\declaretheorem[style=remarkstyle,name=Motivation]{motivation}
	\declaretheorem[style=remarkstyle,name=Note]{note}
	\declaretheorem[style=remarkstyle,name=Observation]{observation}
	\declaretheorem[style=remarkstyle,name=Question]{question}
	\declaretheorem[style=remarkstyle,name=Remark]{remark}
			
	% Unnumbered Remark-like Environments
	\declaretheorem[style=remarkstyle,unnumbered,name=Commentary*]{commentary*}
	\declaretheorem[style=remarkstyle,unnumbered,name=Example*]{example*}
	\declaretheorem[style=remarkstyle,unnumbered,name=Exercise*]{exercise*}
	\declaretheorem[style=remarkstyle,unnumbered,name=Motivation*]{motivation*}
	\declaretheorem[style=remarkstyle,unnumbered,name=Note*]{note*}
	\declaretheorem[style=remarkstyle,unnumbered,name=Observation*]{observation*}
	\declaretheorem[style=remarkstyle,unnumbered,name=Question*]{question*}
	\declaretheorem[style=remarkstyle,unnumbered,name=Remark*]{remark*}
			
	% Highlight-like Environments
	\declaretheorem[style=hltstyle,name=Highlight]{highlight}
	\declaretheorem[style=hltstyle,name=Important]{important}
	\declaretheorem[style=hltstyle,name=KeyPoint]{keypoint}
	\declaretheorem[style=hltstyle,name=Recall]{recall}
			
	\let\proof\relax
	\let\endproof\relax
	\declaretheorem[style=proofstyle]{proof}
}

% Define Fancy Theorem Environments
\newcommand{\usefancythm}{%
	% Define the font style commands for each theorem type
	\newcommand{\thmfont}{\normalfont} % Font for theorems
	\newcommand{\defnfont}{\normalfont} % Font for definitions
	\newcommand{\remarkfont}{\normalfont} % Font for remarks
	\newcommand{\hltfont}{\normalfont\sffamily} % Font for highlighted statements
			
	% Define the color commands for each type
	\newcommand{\thmcolor}{DeepSkyBlue4} % Color for theorems
	\newcommand{\defncolor}{RoyalBlue4} % Color for definitions
	\newcommand{\remarkcolor}{Aquamarine4} % Color for remarks
	\newcommand{\hltcolor}{DeepPink4} % Color for highlighted statements
			
	% Declare the theorem style for theorems
	\declaretheoremstyle[%
		spaceabove=0pt, spacebelow=0pt,
		headfont=\sffamily\color{\thmcolor},
		notefont=\sffamily\color{\thmcolor},
		bodyfont=\normalfont,
		postheadspace=5pt,
		numberwithin=section,
		mdframed={%
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=\thmcolor, backgroundcolor=\thmcolor!5,
		},
		headpunct={.}
	]{thmstyle}
			
	% Declare the theorem style for definitions
	\declaretheoremstyle[%
		spaceabove=0pt, spacebelow=0pt,
		headfont=\sffamily\color{\defncolor},
		notefont=\sffamily\color{\defncolor},
		bodyfont=\normalfont,
		postheadspace=5pt,
		numberwithin=section,
		mdframed={%
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=\defncolor, backgroundcolor=\defncolor!5,
		},
		headpunct={.}
	]{defstyle}
			
	% Declare the theorem style for remarks
	\declaretheoremstyle[%
		spaceabove=0pt, spacebelow=0pt,
		headfont=\sffamily\color{\remarkcolor},
		notefont=\sffamily\color{\remarkcolor},
		bodyfont=\normalfont,
		postheadspace=5pt,
		numberwithin=section,
		mdframed={%
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=\remarkcolor, backgroundcolor=\remarkcolor!5,
		},
		headpunct={.}
	]{remarkstyle}
			
	% Declare the theorem style for highlighted text
	\declaretheoremstyle[%
		spaceabove=0pt, spacebelow=0pt,
		headfont=\sffamily\color{\hltcolor},
		notefont=\sffamily\color{\hltcolor},
		bodyfont=\normalfont\sffamily\sansmath,
		postheadspace=5pt,
		numberwithin=section,
		mdframed={%
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=\hltcolor, backgroundcolor=\hltcolor!5,
		},
		headpunct={.}
	]{hltstyle}
			
	% Declare the proof style
	\declaretheoremstyle[%
		headfont=\sffamily\color{\thmcolor},
		notefont=\sffamily\color{\thmcolor},
		bodyfont=\normalfont,
		postheadspace=5pt,
		numbered=no,
		headpunct={.},
		qed=$\scriptstyle\color{\thmcolor}\blacksquare$
	]{proofstyle}
			
	\basicenv
}

% Define Standard Theorem Environments
\newcommand*{\usenormalthm}{%
	\renewcommand{\commonfont}{\color{\accentcolor}\sffamily} % Set common font
	\renewcommand{\commonsymb}{\ensuremath{\color{\accentcolor}\lrcorner}} % Set common symbol
			
	% Theorem Style
	\declaretheoremstyle[%
		spaceabove=\topsep, spacebelow=\topsep,
		headfont=\commonfont\ensuremath{\scriptstyle\blacktriangleright}~,
		notefont=\commonfont, bodyfont=\normalfont,
		postheadspace=5pt, numberwithin=section, qed=\commonsymb, headpunct={.}
	]{thmstyle}
			
	% Definition Style
	\declaretheoremstyle[%
		spaceabove=\topsep, spacebelow=\topsep,
		headfont=\commonfont\ensuremath{\scriptstyle\blacksquare}~,
		notefont=\commonfont, bodyfont=\normalfont,
		postheadspace=5pt, numberwithin=section, qed=\commonsymb, headpunct={.}
	]{defstyle}
			
	% Remark Style
	\declaretheoremstyle[%
		spaceabove=\topsep, spacebelow=\topsep,
		headfont=\commonfont\ensuremath{\scriptstyle\vartriangleright}~,
		notefont=\commonfont, bodyfont=\normalfont,
		postheadspace=5pt, numberwithin=section, qed=\commonsymb, headpunct={.}
	]{remarkstyle}
			
	% Highlight Style
	\declaretheoremstyle[%
		spaceabove=\topsep, spacebelow=\topsep,
		headfont=\commonfont\ensuremath{\scriptstyle\square}~,
		notefont=\commonfont, bodyfont=\normalfont\sffamily,
		postheadspace=5pt, numberwithin=section, qed=\commonsymb, headpunct={.}
	]{hltstyle}
			
	% Proof Style
	\declaretheoremstyle[%
		headfont=\commonfont, notefont=\commonfont, bodyfont=\normalfont,
		postheadspace=5pt, numbered=no, headpunct={.},
		qed=$\color{\accentcolor}\scriptstyle\blacktriangleleft$
	]{proofstyle}
			
	\basicenv
}

% Cleveref for intelligent cross-referencing (better handling of references)
\AtBeginDocument{%
	\@ifpackageloaded{hyperref}{%
        \RequirePackage{cleveref}%
		
        % Theorem-like Environments
		\crefname{theorem}{theorem}{theorems}
		\crefname{assertion}{assertion}{assertions}
		\crefname{assumption}{assumption}{assumptions}
		\crefname{axiom}{axiom}{axioms}
		\crefname{claim}{claim}{claims}
		\crefname{conclusion}{conclusion}{conclusions}
		\crefname{conjecture}{conjecture}{conjectures}
		\crefname{corollary}{corollary}{corollaries}
		\crefname{fact}{fact}{facts}
		\crefname{hypothesis}{hypothesis}{hypotheses}
		\crefname{lemma}{lemma}{lemmas}
		\crefname{postulate}{postulate}{postulates}
		\crefname{property}{property}{properties}
		\crefname{proposition}{proposition}{propositions}
				
		% Definition-like Environments
		\crefname{application}{application}{applications}
		\crefname{construction}{construction}{constructions}
		\crefname{convention}{convention}{conventions}
		\crefname{definition}{definition}{definitions}
		\crefname{experiment}{experiment}{experiments}
		\crefname{notation}{notation}{notations}
		\crefname{problem}{problem}{problems}
		\crefname{protocol}{protocol}{protocols}
				
		% Remark-like Environments
		\crefname{commentary}{commentary}{commentaries}
		\crefname{example}{example}{examples}
		\crefname{exercise}{exercise}{exercises}
		\crefname{motivation}{motivation}{motivations}
		\crefname{note}{note}{notes}
		\crefname{observation}{observation}{observations}
		\crefname{question}{question}{questions}
		\crefname{remark}{remark}{remarks}
				
		% Highlight-like Environments
		\crefname{highlight}{highlight}{highlights}
		\crefname{important}{important}{importants}
		\crefname{keypoint}{keypoint}{keypoints}
		\crefname{recall}{recall}{recalls}

        % Email link formatting
        \providecommand{\email}[1]{\href{mailto:#1}{\texttt{#1}}}
		}{%
		\PackageWarning{csthm}{%
			The 'cleveref' option was set, but 'hyperref' is not loaded.
			Skipping 'cleveref' loading.%
		}%
	}%
}%

% Conditional Theorem Style
\ifbool{usefancythm}{\usefancythm}{\typeout{Using fancy theorem style.}}  % Use fancy theorem style if 'usefancythm' is true
\ifbool{usenormalthm}{\usenormalthm}{\typeout{Using normal theorem style.}}  % Use standard theorem style if 'usenormalthm' is true

\endinput
%%
%% End of file csthm.sty'.